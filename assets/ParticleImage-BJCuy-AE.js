import{i as U,_ as J,m as N,u as i,r as m,o as K,a as Q,b as Z,c as z,d as A,e as t,f as T,g as k,w as r,v as u,h as j,t as ee,p as te,j as le}from"./index-CASDp3fd.js";const oe=s=>U(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6h.02m0 0h17.96M3.02 6C3 6.314 3 6.702 3 7.2v9.6c0 1.12 0 1.68.218 2.107.192.377.497.683.874.875.427.218.987.218 2.105.218h11.606c1.118 0 1.677 0 2.104-.218.377-.192.683-.498.875-.875.218-.427.218-.986.218-2.104V7.197c0-.497 0-.883-.02-1.197M3.02 6c.023-.392.077-.67.198-.908.192-.377.497-.682.874-.874C4.52 4 5.08 4 6.2 4h11.6c1.12 0 1.68 0 2.107.218.377.192.683.497.875.874.121.237.175.516.199.908m0 0H21m-11 9 2-2m0 0 2-2m-2 2-2-2m2 2 2 2"/></svg>'),se=s=>U(s,'<svg viewBox="0 0 512 512" fill="currentColor"><path fill="var(--ci-primary-color, currentColor)" d="M204 181.372 38.628 16H16v22.628L181.372 204H44v32h192V44h-32zM326.628 304H464v-32H272v192h32V326.628L473.372 496H496v-22.628z" class="ci-primary"/></svg>'),ae=s=>U(s,'<svg viewBox="0 0 512 512" fill="currentColor"><path fill="var(--ci-primary-color, currentColor)" d="M208 48V16H16v192h32V70.627l160.687 160.686 22.626-22.626L70.627 48zM464 304v137.373L299.313 276.687l-22.626 22.626L441.373 464H304v32h192V304z" class="ci-primary"/></svg>'),p=s=>(te("data-v-1fb864aa"),s=s(),le(),s),ne={class:"ParticleImage"},re={class:"effect-controls"},ce={class:"particle-controls"},ie=p(()=>t("span",null,"particle-size",-1)),ue=p(()=>t("span",null,"resolution",-1)),de=p(()=>t("span",null,"max-force",-1)),fe=p(()=>t("span",null,"min-force",-1)),ve={class:"src-img-cont"},me=["src"],pe={class:"loading-cont"},he=p(()=>t("div",{class:"loader"},null,-1)),ge=[he],Me={class:"error-cont"},Ce="https://imageproxynode.onrender.com/",_e={__name:"ParticleImage",props:N({imageURL:String},{effectAmount:{default:100},effectAmountModifiers:{},innerEffect:{default:100},innerEffectModifiers:{},particleSize:{default:7},particleSizeModifiers:{},resolutionValue:{default:7},resolutionValueModifiers:{},MAX_FORCE:{default:10},MAX_FORCEModifiers:{},MIN_FORCE:{default:0},MIN_FORCEModifiers:{}}),emits:N(["close"],["update:effectAmount","update:innerEffect","update:particleSize","update:resolutionValue","update:MAX_FORCE","update:MIN_FORCE"]),setup(s,{emit:D}){const I=i(s,"effectAmount"),h=i(s,"innerEffect"),Y=D,g=m(null),M=m(null),R=m(!0),C=m("");let _,V,y,E=[];const d=i(s,"particleSize"),F=i(s,"resolutionValue"),x=i(s,"MAX_FORCE"),w=i(s,"MIN_FORCE");let c=null,l,L=m(!0),n=null;const P=a=>{l=a,l.preload=()=>{const e=`${Ce}${M.value.src}`;y=l.loadImage(e,()=>{R.value=!1,C.value=""},()=>{R.value=!1,C.value="problem loading the image sry :("})},l.setup=()=>{_=M.value.width,V=M.value.height,l.createCanvas(_,V).parent(g.value).class("particleCanvas").elt.getContext("2d",{willReadFrequently:!0}),l.frameRate(30),q()},l.draw=()=>{l.clear(),E.forEach(e=>{e.update(),e.draw()})}};class ${constructor(e,o,f){this.x=e,this.y=o,this.color=f,this.targetX=this.x,this.targetY=this.y}update(){let e=l.createVector(l.mouseX,l.mouseY),o=l.createVector(this.x,this.y),f=l.createVector(this.targetX,this.targetY),v=c.Vector.sub(o,e),S=v.mag(),H=c.Vector.sub(f,o),G=H.mag(),b=l.createVector(0,0);if(S<I.value){let O=l.map(S,0,h.value,x.value,w.value);v.setMag(O),b.add(v)}if(S>0){let O=l.map(G,0,h.value,w.value,x.value);H.setMag(O),b.add(H)}this.x+=b.x,this.y+=b.y}draw(){l.fill(this.color),l.noStroke(),l.ellipse(this.x,this.y,d.value)}}function q(){for(let a=0;a<_;a+=F.value)for(let e=0;e<V;e+=F.value){const o=_/y.width,f=V/y.height,v=y.get(a/o,e/f);E.push(new $(a+d.value/2,e+d.value/2,v))}}function W(){n&&(E=[],n.remove(),n=null),n=new c(P)}function X(){document.fullscreenElement?L.value=!1:L.value=!0}function B(a){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}return K(async()=>{c=(await Q(()=>import("./p5.min-DcN3b3ZN.js").then(a=>a.p),__vite__mapDeps([]))).default,n=new c(P),document.addEventListener("fullscreenchange",X)}),Z(()=>{E=[],n&&(n.remove(),n=null),g.value&&(g.value.innerHTML=""),c=null,document.removeEventListener("fullscreenchange",X)}),(a,e)=>(z(),A("div",ne,[t("div",{ref_key:"sketchContainer",ref:g,class:"canvas-cont"},null,512),t("button",{class:"close-btn",onClick:e[0]||(e[0]=o=>Y("close"))},[T(k(oe))]),t("div",re,[r(t("input",{class:"adjust-effect",type:"number","onUpdate:modelValue":e[1]||(e[1]=o=>I.value=o)},null,512),[[u,I.value]]),r(t("input",{class:"adjust-inner",type:"number","onUpdate:modelValue":e[2]||(e[2]=o=>h.value=o)},null,512),[[u,h.value]]),t("div",ce,[ie,r(t("input",{class:"particle-size",type:"number","onUpdate:modelValue":e[3]||(e[3]=o=>d.value=o)},null,512),[[u,d.value]]),ue,r(t("input",{class:"resolution",type:"number","onUpdate:modelValue":e[4]||(e[4]=o=>F.value=o)},null,512),[[u,F.value]]),de,r(t("input",{class:"max-force",type:"number","onUpdate:modelValue":e[5]||(e[5]=o=>x.value=o)},null,512),[[u,x.value]]),fe,r(t("input",{class:"min-force",type:"number","onUpdate:modelValue":e[6]||(e[6]=o=>w.value=o)},null,512),[[u,w.value]]),t("button",{onClick:W},"reload-particles")])]),k(L)?(z(),A("button",{key:0,class:"fullscreen-btn",onClick:B},[T(k(ae))])):(z(),A("button",{key:1,class:"exit-fullscreen-btn",onClick:B},[T(k(se))])),t("div",ve,[t("img",{src:s.imageURL,class:"src-img",alt:"particleImg",ref_key:"srcImgRef",ref:M},null,8,me)]),r(t("div",pe,ge,512),[[j,R.value]]),r(t("div",Me,[t("div",null,ee(C.value),1)],512),[[j,C.value]])]))}},ye=J(_e,[["__scopeId","data-v-1fb864aa"]]);export{ye as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
