import{i as A,_ as W,m as B,u as i,r as x,o as G,a as J,b as K,c as O,d as S,e as s,f as z,g as k,w as r,v as u,h as Q,p as Z,j as ee}from"./index-D55UtZq7.js";const te=o=>A(o,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6h.02m0 0h17.96M3.02 6C3 6.314 3 6.702 3 7.2v9.6c0 1.12 0 1.68.218 2.107.192.377.497.683.874.875.427.218.987.218 2.105.218h11.606c1.118 0 1.677 0 2.104-.218.377-.192.683-.498.875-.875.218-.427.218-.986.218-2.104V7.197c0-.497 0-.883-.02-1.197M3.02 6c.023-.392.077-.67.198-.908.192-.377.497-.682.874-.874C4.52 4 5.08 4 6.2 4h11.6c1.12 0 1.68 0 2.107.218.377.192.683.497.875.874.121.237.175.516.199.908m0 0H21m-11 9 2-2m0 0 2-2m-2 2-2-2m2 2 2 2"/></svg>'),le=o=>A(o,'<svg viewBox="0 0 512 512" fill="currentColor"><path fill="var(--ci-primary-color, currentColor)" d="M204 181.372 38.628 16H16v22.628L181.372 204H44v32h192V44h-32zM326.628 304H464v-32H272v192h32V326.628L473.372 496H496v-22.628z" class="ci-primary"/></svg>'),se=o=>A(o,'<svg viewBox="0 0 512 512" fill="currentColor"><path fill="var(--ci-primary-color, currentColor)" d="M208 48V16H16v192h32V70.627l160.687 160.686 22.626-22.626L70.627 48zM464 304v137.373L299.313 276.687l-22.626 22.626L441.373 464H304v32h192V304z" class="ci-primary"/></svg>'),v=o=>(Z("data-v-5a809f7f"),o=o(),ee(),o),oe={class:"ParticleImage"},ae={class:"effect-controls"},ne={class:"particle-controls"},re=v(()=>s("span",null,"particle-size",-1)),ce=v(()=>s("span",null,"resolution",-1)),ie=v(()=>s("span",null,"max-force",-1)),ue=v(()=>s("span",null,"min-force",-1)),de={class:"src-img-cont"},fe=["src"],me={class:"loading-cont"},ve=v(()=>s("div",{class:"loader"},null,-1)),pe=[ve],he="https://api.allorigins.win/raw?url=",ge={__name:"ParticleImage",props:B({imageURL:String},{effectAmount:{default:100},effectAmountModifiers:{},innerEffect:{default:100},innerEffectModifiers:{},particleSize:{default:7},particleSizeModifiers:{},resolutionValue:{default:7},resolutionValueModifiers:{},MAX_FORCE:{default:10},MAX_FORCEModifiers:{},MIN_FORCE:{default:0},MIN_FORCEModifiers:{}}),emits:B(["close"],["update:effectAmount","update:innerEffect","update:particleSize","update:resolutionValue","update:MAX_FORCE","update:MIN_FORCE"]),setup(o,{emit:N}){const I=i(o,"effectAmount"),p=i(o,"innerEffect"),j=N,h=x(null),g=x(null),T=x(!0);let M,C,V,_=[];const d=i(o,"particleSize"),E=i(o,"resolutionValue"),w=i(o,"MAX_FORCE"),y=i(o,"MIN_FORCE");let c=null,t,R=x(!0),n=null;const U=a=>{t=a,t.preload=()=>{const e=`${he}${g.value.src}`;V=t.loadImage(e,()=>{T.value=!1})},t.setup=()=>{M=g.value.width,C=g.value.height,t.createCanvas(M,C).parent(h.value).class("particleCanvas").elt.getContext("2d",{willReadFrequently:!0}),t.frameRate(30),D()},t.draw=()=>{t.clear(),_.forEach(e=>{e.update(),e.draw()})}};class Y{constructor(e,l,f){this.x=e,this.y=l,this.color=f,this.targetX=this.x,this.targetY=this.y}update(){let e=t.createVector(t.mouseX,t.mouseY),l=t.createVector(this.x,this.y),f=t.createVector(this.targetX,this.targetY),m=c.Vector.sub(l,e),b=m.mag(),L=c.Vector.sub(f,l),q=L.mag(),F=t.createVector(0,0);if(b<I.value){let H=t.map(b,0,p.value,w.value,y.value);m.setMag(H),F.add(m)}if(b>0){let H=t.map(q,0,p.value,y.value,w.value);L.setMag(H),F.add(L)}this.x+=F.x,this.y+=F.y}draw(){t.fill(this.color),t.noStroke(),t.ellipse(this.x,this.y,d.value)}}function D(){for(let a=0;a<M;a+=E.value)for(let e=0;e<C;e+=E.value){const l=M/V.width,f=C/V.height,m=V.get(a/l,e/f);_.push(new Y(a+d.value/2,e+d.value/2,m))}}function $(){n&&(_=[],n.remove(),n=null),n=new c(U)}function P(){document.fullscreenElement?R.value=!1:R.value=!0}function X(a){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}return G(async()=>{c=(await J(()=>import("./p5.min-DcN3b3ZN.js").then(a=>a.p),__vite__mapDeps([]))).default,n=new c(U),document.addEventListener("fullscreenchange",P)}),K(()=>{_=[],n&&(n.remove(),n=null),h.value&&(h.value.innerHTML=""),c=null,document.removeEventListener("fullscreenchange",P)}),(a,e)=>(O(),S("div",oe,[s("div",{ref_key:"sketchContainer",ref:h,class:"canvas-cont"},null,512),s("button",{class:"close-btn",onClick:e[0]||(e[0]=l=>j("close"))},[z(k(te))]),s("div",ae,[r(s("input",{class:"adjust-effect",type:"number","onUpdate:modelValue":e[1]||(e[1]=l=>I.value=l)},null,512),[[u,I.value]]),r(s("input",{class:"adjust-inner",type:"number","onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l)},null,512),[[u,p.value]]),s("div",ne,[re,r(s("input",{class:"particle-size",type:"number","onUpdate:modelValue":e[3]||(e[3]=l=>d.value=l)},null,512),[[u,d.value]]),ce,r(s("input",{class:"resolution",type:"number","onUpdate:modelValue":e[4]||(e[4]=l=>E.value=l)},null,512),[[u,E.value]]),ie,r(s("input",{class:"max-force",type:"number","onUpdate:modelValue":e[5]||(e[5]=l=>w.value=l)},null,512),[[u,w.value]]),ue,r(s("input",{class:"min-force",type:"number","onUpdate:modelValue":e[6]||(e[6]=l=>y.value=l)},null,512),[[u,y.value]]),s("button",{onClick:$},"reload-particles")])]),k(R)?(O(),S("button",{key:0,class:"fullscreen-btn",onClick:X},[z(k(se))])):(O(),S("button",{key:1,class:"exit-fullscreen-btn",onClick:X},[z(k(le))])),s("div",de,[s("img",{src:o.imageURL,class:"src-img",alt:"particleImg",ref_key:"srcImgRef",ref:g},null,8,fe)]),r(s("div",me,pe,512),[[Q,T.value]])]))}},Ce=W(ge,[["__scopeId","data-v-5a809f7f"]]);export{Ce as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
